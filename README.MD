# FCGames

**Nome em Ingl√™s:** Fiap Cloud Games
**Nome em Portugu√™s:** Fiap Jogos na nuvem

## Integrantes do Grupo 127

- Saulo Szmyhiel Ganan√ßa

## Descri√ß√£o

Este √© um projeto de p√≥s-gradua√ß√£o em Arquitetura de Software, desenvolvido pelo Grupo 127 da FIAP. O **FCGames** tem como objetivo fornecer uma estrutura moderna e escal√°vel para vendas de jogos e gest√£o de servidores para partidas online, aplicando os principais conceitos de arquitetura de software, boas pr√°ticas de desenvolvimento e padr√µes de mercado.

## Tecnologias Utilizadas

- .NET 8
- C# 12
- DDD (Domain-Driven Design)
- TDD (Test-Driven Development)
- BDD (Behavior-Driven Development)
- SQL Server (via Docker)
- Docker

## Conte√∫do do Projeto

### **Fase 1**

- Novidades do .NET 8 e C# 12
- Cria√ß√£o de API REST com .NET
- Middlewares e Inje√ß√£o de Depend√™ncia
- Implementa√ß√£o de Logs
- Serializa√ß√£o com JSON e MessagePack
- Autentica√ß√£o e Autoriza√ß√£o
- Swagger e documenta√ß√£o de API
- Implementa√ß√£o de Cache

## Estrutura do Projeto

A estrutura inicial segue o padr√£o **DDD (Domain-Driven Design)**, dividida em camadas:

```
src/
‚îú‚îÄ‚îÄ FCGames.API             ‚Üí Camada de apresenta√ß√£o (API REST)
‚îú‚îÄ‚îÄ FCGames.Application     ‚Üí Casos de uso e l√≥gica de aplica√ß√£o
‚îú‚îÄ‚îÄ FCGames.Domain          ‚Üí Entidades de dom√≠nio e contratos
‚îî‚îÄ‚îÄ FCGames.Infrastructure  ‚Üí Implementa√ß√µes de persist√™ncia e servi√ßos externos
```

Essa organiza√ß√£o promove separa√ß√£o de responsabilidades, facilitando testes, manutenibilidade e escalabilidade.

## Como rodar o projeto

### **Pr√©-requisitos**

- [.NET 8 SDK](https://dotnet.microsoft.com/en-us/download)
- [Docker Desktop](https://www.docker.com/products/docker-desktop/)
- [SQL Server Management Studio (SSMS)](https://learn.microsoft.com/en-us/sql/ssms/download-sql-server-management-studio-ssms)

### **Banco de Dados com Docker**

Execute no PowerShell (modo administrador):

```bash
docker run -e "ACCEPT_EULA=Y" -e "SA_PASSWORD=@fiap2025" -p 1433:1433 --name SqlServerFiap -d mcr.microsoft.com/mssql/server:2022-latest
```

### **Executar Migrations**

```bash
dotnet ef migrations add "NomeDaMigration" --project FCGames.Infrastructure --startup-project FCGames.API
dotnet ef database update --project FCGames.Infrastructure --startup-project FCGames.API
```

## üê≥ **Docker e Containeriza√ß√£o**

### **üöÄ In√≠cio R√°pido com Docker**

```bash
# 1. Clone o reposit√≥rio
git clone https://github.com/FiapPosGrupo127/FCGames.git
cd FCGames

# 2. Execute toda a stack
docker-compose up -d

# 3. Acesse a aplica√ß√£o
# API: http://localhost:7060
# Swagger: http://localhost:7060/swagger
# Grafana: http://localhost:3000 (admin/admin123)
# Prometheus: http://localhost:9090
```

### **Docker Compose**

#### **Executar Stack Completa**

```bash
docker-compose up -d
```

#### **Servi√ßos Inclu√≠dos:**

- **API**: Aplica√ß√£o FCGames na porta `7060`
- **SQL Server**: Banco de dados na porta `1433`
- **Prometheus**: M√©tricas na porta `9090`
- **Grafana**: Dashboards na porta `3000`

### **Comandos Docker √öteis**

#### **Build da Imagem:**

```bash
# Build local
docker build -t fcgames-api .

# Build com tag para Docker Hub
docker build -t usuario/fcgames-api:latest .
```

#### **Executar Apenas a API:**

```bash
docker run -p 7060:7060 fcgames-api
```

#### **Executar com Vari√°veis de Ambiente:**

```bash
docker run -p 7060:7060 \
  -e ASPNETCORE_ENVIRONMENT=Production \
  -e DatabaseProvider=PostgreSql \
  -e DATABASE_URL="sua-connection-string" \
  fcgames-api
```

### **Monitoramento e Observabilidade**

#### **Acessar Servi√ßos:**

- **API**: http://localhost:7060
- **Swagger**: http://localhost:7060/swagger
- **Health Check**: http://localhost:7060/health
- **M√©tricas**: http://localhost:7060/metrics
- **Prometheus**: http://localhost:9090
- **Grafana**: http://localhost:3000

#### **Deploy em Produ√ß√£o**

#### **Imagem P√∫blica no Docker Hub:**

A aplica√ß√£o est√° dispon√≠vel publicamente no Docker Hub:

```bash
# Pull da imagem
docker pull dinosauloo/fcgames-api:latest

# Executar diretamente
docker run -p 7060:7060 dinosauloo/fcgames-api:latest
```

**Link da imagem:** https://hub.docker.com/r/dinosauloo/fcgames-api

#### **Usando Docker Hub:**

```bash
# Push para Docker Hub
docker tag fcgames-api usuario/fcgames-api:v1.0.0
docker push usuario/fcgames-api:v1.0.0

# Deploy em servidor
docker pull usuario/fcgames-api:v1.0.0
docker run -d -p 7060:7060 usuario/fcgames-api:v1.0.0
```

#### **Usando Docker Compose em Produ√ß√£o:**

```bash
# Definir ambiente de produ√ß√£o
export ASPNETCORE_ENVIRONMENT=Production
export DATABASE_URL="sua-connection-string-producao"

# Deploy
docker-compose -f docker-compose.yml up -d
```

## Contribui√ß√£o

Se deseja contribuir, fique √† vontade para abrir issues ou enviar pull requests. Toda colabora√ß√£o √© bem-vinda!

## Licen√ßa

Este projeto est√° licenciado sob a **MIT License**.
